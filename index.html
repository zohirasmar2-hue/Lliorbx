<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Roblox Lookup</title>
  <style>
    body{font-family:system-ui,Arial;padding:20px;background:#f9f9fb}
    .card{max-width:720px;margin:auto;background:#fff;padding:16px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.08)}
    input{padding:8px;width:60%;border-radius:6px;border:1px solid #ccc}
    button{padding:8px 12px;border:none;border-radius:6px;background:#0066ff;color:#fff}
    img{max-width:120px;border-radius:8px}
    pre{background:#f1f1f5;padding:8px;border-radius:6px}
  </style>
</head>
<body>
  <div class="card">
    <h2>ابحث عن لاعب Roblox</h2>
    <input id="username" placeholder="مثال: builderman"/>
    <button id="btn">بحث</button>
    <div id="result" style="margin-top:16px"></div>
  </div>
  <script>
    const btn=document.getElementById("btn");
    btn.onclick=async()=>{
      const u=document.getElementById("username").value.trim();
      if(!u)return;
      document.getElementById("result").innerHTML="...جاري البحث";
      const resp=await fetch(`/api/roblox?username=${encodeURIComponent(u)}`);
      if(!resp.ok){document.getElementById("result").innerText="خطأ";return;}
      const data=await resp.json();
      document.getElementById("result").innerHTML=`
        <img src="${data.avatarUrl}" alt="avatar"/><br/>
        <b>${data.displayName||data.username}</b> (${data.username})<br/>
        Id: ${data.id}<br/>
        Created: ${data.created||'-'}<br/>
        <a href="${data.profileUrl}" target="_blank">فتح البروفايل</a>
        <pre>${JSON.stringify(data,null,2)}</pre>
      `;
    }
  </script>
</body>
</html>
